{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "playback-speed",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "@audio/store",
    "@audio/html",
    "@audio/use-audio",
    "@shadcn/button",
    "@shadcn/dropdown-menu",
    "@shadcn/tooltip"
  ],
  "files": [
    {
      "path": "src/registry/default/ui/audio/playback-speed.tsx",
      "content": "\"use client\";\n\nimport { GaugeIcon } from \"lucide-react\";\nimport type React from \"react\";\nimport { useAudio } from \"@/registry/default/hooks/use-audio\";\nimport { useAudioStore } from \"@/registry/default/lib/audio-store\";\nimport { cn } from \"@/registry/default/lib/utils\";\nimport { Button } from \"@/registry/default/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuLabel,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuTrigger,\n} from \"@/registry/default/ui/dropdown-menu\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/registry/default/ui/tooltip\";\n\nconst PLAYBACK_SPEEDS = [\n  { value: 0.5, label: \"0.5x\" },\n  { value: 0.75, label: \"0.75x\" },\n  { value: 1, label: \"1x\" },\n  { value: 1.25, label: \"1.25x\" },\n  { value: 1.5, label: \"1.5x\" },\n  { value: 2, label: \"2x\" },\n] as const;\n\nexport type AudioPlaybackSpeedProps = React.ComponentProps<typeof Button> & {\n  speeds?: readonly { value: number; label: string }[];\n};\n\ninterface AudioPlaybackSpeedButtonProps\n  extends React.ComponentProps<typeof Button> {\n  tooltip?: boolean;\n  tooltipLabel?: string;\n}\n\nfunction AudioPlaybackSpeedButton({\n  tooltip = false,\n  tooltipLabel,\n  disabled,\n  ...props\n}: AudioPlaybackSpeedButtonProps) {\n  const button = <Button disabled={disabled} {...props} />;\n\n  if (tooltip && tooltipLabel) {\n    const trigger = disabled ? (\n      <span className=\"inline-block\">{button}</span>\n    ) : (\n      button\n    );\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{trigger}</TooltipTrigger>\n        <TooltipContent sideOffset={4}>{tooltipLabel}</TooltipContent>\n      </Tooltip>\n    );\n  }\n\n  return button;\n}\n\nfunction AudioPlaybackSpeed({\n  className,\n  size,\n  variant = \"outline\",\n  speeds = PLAYBACK_SPEEDS,\n  ...props\n}: AudioPlaybackSpeedProps) {\n  const playbackRate = useAudioStore((state) => state.playbackRate);\n  const setPlaybackRate = useAudioStore((state) => state.setPlaybackRate);\n  const duration = useAudioStore((state) => state.duration);\n  const { htmlAudio } = useAudio();\n  const isLiveStream = htmlAudio.isLive(duration);\n\n  const currentSpeed =\n    speeds.find((s) => s.value === playbackRate) || speeds[2];\n  const displayLabel = currentSpeed?.label;\n\n  const handleSpeedChange = (value: string) => {\n    if (isLiveStream) {\n      return;\n    }\n    const speed = Number.parseFloat(value);\n    setPlaybackRate(speed);\n  };\n\n  const tooltipLabel = isLiveStream\n    ? \"Not available for live streams\"\n    : \"Playback speed\";\n\n  const isIconSize = size === \"icon\";\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild disabled={isLiveStream}>\n        <AudioPlaybackSpeedButton\n          className={cn(className)}\n          data-slot=\"audio-playback-speed-button\"\n          disabled={isLiveStream}\n          size={size}\n          tooltip\n          tooltipLabel={tooltipLabel}\n          variant={variant}\n          {...props}\n        >\n          {!isIconSize && <GaugeIcon className=\"size-4\" />}\n          <span className=\"font-mono text-xs\">{displayLabel}</span>\n        </AudioPlaybackSpeedButton>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent\n        align=\"end\"\n        className={cn(\"w-40\", className)}\n        data-slot=\"audio-playback-speed-content\"\n      >\n        <DropdownMenuLabel className=\"text-muted-foreground\">\n          Playback Speed\n        </DropdownMenuLabel>\n        <DropdownMenuRadioGroup\n          onValueChange={handleSpeedChange}\n          value={String(playbackRate)}\n        >\n          {speeds.map((speed) => (\n            <DropdownMenuRadioItem\n              key={speed.value}\n              value={String(speed.value)}\n            >\n              {speed.label}\n            </DropdownMenuRadioItem>\n          ))}\n        </DropdownMenuRadioGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\nexport { AudioPlaybackSpeed };\n",
      "type": "registry:component",
      "target": "components/audio/playback-speed.tsx"
    }
  ],
  "type": "registry:component"
}